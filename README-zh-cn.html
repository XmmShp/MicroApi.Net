<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>MicroAPI.Net | MicroAPI.Net </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="MicroAPI.Net | MicroAPI.Net ">
    
    
      <link rel="shortcut icon" href="favicon.ico">
      <link rel="stylesheet" href="styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="styles/docfx.css">
      <link rel="stylesheet" href="styles/main.css">
      <meta property="docfx:navrel" content="toc.html">
      <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="">
    <meta property="docfx:newtab" content="true">
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="microapinet">MicroAPI.Net</h1>

<p><a href="https://www.nuget.org/packages/MicroAPI.Net/"><img src="https://img.shields.io/nuget/v/MicroAPI.Net.svg" alt="NuGet"></a>
<a href="https://github.com/XmmShp/MicroAPI.Net/actions/workflows/ci.yml"><img src="https://github.com/XmmShp/MicroAPI.Net/actions/workflows/ci.yml/badge.svg" alt="Build Status"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p>MicroAPI.Net æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ .NET æºä»£ç ç”Ÿæˆå™¨ï¼Œç”¨äºä»æ¥å£å’Œå¤–è§‚ç±»è‡ªåŠ¨ç”Ÿæˆ ASP.NET Core æ§åˆ¶å™¨ã€‚é€šè¿‡ä½¿ç”¨ç®€å•çš„ç‰¹æ€§æ ‡è®°ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿåˆ›å»º RESTful APIï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç¼–å†™é‡å¤çš„æ§åˆ¶å™¨ä»£ç ã€‚</p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§</h2>
<ul>
<li>ğŸš€ <strong>é›¶æ ·æ¿ä»£ç </strong> - ä»æ¥å£æˆ–å¤–è§‚ç±»è‡ªåŠ¨ç”Ÿæˆæ§åˆ¶å™¨</li>
<li>ğŸ”„ <strong>å®æ—¶ç”Ÿæˆ</strong> - åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä»£ç ï¼Œæ— è¿è¡Œæ—¶å¼€é”€</li>
<li>ğŸ› ï¸ <strong>é«˜åº¦å¯é…ç½®</strong> - è‡ªå®šä¹‰æ§åˆ¶å™¨åç§°ã€è·¯ç”±å’Œå‘½åç©ºé—´</li>
<li>ğŸ“¦ <strong>è½»é‡çº§</strong> - æœ€å°åŒ–ä¾èµ–ï¼Œä¸“æ³¨äºå•ä¸€èŒè´£</li>
<li>ğŸ” <strong>ç±»å‹å®‰å…¨</strong> - åˆ©ç”¨ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ç¡®ä¿ API ä¸€è‡´æ€§</li>
</ul>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>é€šè¿‡ NuGet åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p>
<pre><code class="lang-bash">dotnet add package MicroAPI.Net
</code></pre>
<h2 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨</h2>
<h3 id="1-åˆ›å»ºæœåŠ¡æ¥å£">1. åˆ›å»ºæœåŠ¡æ¥å£</h3>
<pre><code class="lang-csharp">public interface IUserService
{
    Task&lt;User&gt; GetUserAsync(int id);
    Task&lt;List&lt;User&gt;&gt; GetAllUsersAsync();
    Task&lt;User&gt; CreateUserAsync(string name, int age);
    Task&lt;bool&gt; DeleteUserAsync(int id);
}
</code></pre>
<h3 id="2-å®ç°æœåŠ¡">2. å®ç°æœåŠ¡</h3>
<pre><code class="lang-csharp">public class UserService : IUserService
{
    // å®ç°æ¥å£æ–¹æ³•
}
</code></pre>
<h3 id="3-åˆ›å»ºå¤–è§‚ç±»æˆ–ä½¿ç”¨æ¥å£æ ‡è®°">3. åˆ›å»ºå¤–è§‚ç±»æˆ–ä½¿ç”¨æ¥å£æ ‡è®°</h3>
<p><strong>é€‰é¡¹ 1: ä½¿ç”¨å¤–è§‚ç±»</strong></p>
<pre><code class="lang-csharp">[HttpFacade(&quot;User&quot;)]
public class UserServiceFacade : IUserService
{
    [Get(&quot;{id}&quot;)]
    public Task&lt;User&gt; GetUserAsync(int id) =&gt; null!;

    [Get(&quot;&quot;)]
    public Task&lt;List&lt;User&gt;&gt; GetAllUsersAsync() =&gt; null!;

    [Post]
    public Task&lt;User&gt; CreateUserAsync(string name, int age) =&gt; null!;

    [Delete(&quot;{id}&quot;, MethodName = &quot;MyDeleteUser&quot;)]
    public bool DeleteUser(int id) =&gt; false;

    public void Debug() { }
}
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç ï¼š</p>
<pre><code class="lang-csharp">// UserController.g.cs
using Microsoft.AspNetCore.Mvc;
using System;
using System.Threading.Tasks;

namespace MicroAPI.Sample.Facades.Controllers
{
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class UserController : ControllerBase
    {
        private readonly MicroAPI.Sample.Services.IUserService _service;

        public UserController(MicroAPI.Sample.Services.IUserService service)
        {
            _service = service;
        }

        [HttpGet(&quot;{id}&quot;)]
        public System.Threading.Tasks.Task&lt;MicroAPI.Sample.Models.User&gt; GetUserAsync([FromRoute] int id)
            =&gt; _service.GetUserAsync(id);

        [HttpGet(&quot;&quot;)]
        public System.Threading.Tasks.Task&lt;System.Collections.Generic.List&lt;MicroAPI.Sample.Models.User&gt;&gt; GetAllUsersAsync()
            =&gt; _service.GetAllUsersAsync();

        [HttpPost(&quot;CreateUserAsync&quot;)]
        public System.Threading.Tasks.Task&lt;MicroAPI.Sample.Models.User&gt; CreateUserAsync([FromBody] CreateUserAsyncRequest request)
            =&gt; _service.CreateUserAsync(request.name, request.age);

        [HttpDelete(&quot;{id}&quot;)]
        public bool MyDeleteUser([FromRoute] int id)
            =&gt; _service.DeleteUser(id);

    }
}

// UserDtos.g.cs
using System;

namespace MicroAPI.Sample.Facades.Controllers
{
    public record CreateUserAsyncRequest(string name, int age);

}

</code></pre>
<p><strong>é€‰é¡¹ 2: ä½¿ç”¨æ¥å£</strong></p>
<pre><code class="lang-csharp">[HttpFacade(DtoNamespace = &quot;MyApp.Api.Models&quot;)]
public interface IUserService
{
    [Get(&quot;{id}&quot;)]
    Task&lt;User&gt; GetUserAsync(int id);

    [Get(&quot;&quot;)]
    Task&lt;List&lt;User&gt;&gt; GetAllUsersAsync();

    [Post]
    Task&lt;User&gt; CreateUserAsync(string name, int age);

    [Delete(&quot;{id}&quot;, MethodName = &quot;MyDeleteUser&quot;)]
    bool DeleteUser(int id);

    void Debug();
}
</code></pre>
<p>ç”Ÿæˆçš„ä»£ç ï¼š</p>
<pre><code class="lang-csharp">// UserServiceController.g.cs
using Microsoft.AspNetCore.Mvc;
using System;
using System.Threading.Tasks;
using MyApp.Api.Models;

namespace MicroAPI.Sample.Services.Controllers
{
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class UserServiceController : ControllerBase
    {
        private readonly MicroAPI.Sample.Services.IUserService _service;

        public UserServiceController(MicroAPI.Sample.Services.IUserService service)
        {
            _service = service;
        }

        [HttpGet(&quot;{id}&quot;)]
        public System.Threading.Tasks.Task&lt;MicroAPI.Sample.Models.User&gt; GetUserAsync([FromRoute] int id)
            =&gt; _service.GetUserAsync(id);

        [HttpGet(&quot;&quot;)]
        public System.Threading.Tasks.Task&lt;System.Collections.Generic.List&lt;MicroAPI.Sample.Models.User&gt;&gt; GetAllUsersAsync()
            =&gt; _service.GetAllUsersAsync();

        [HttpPost(&quot;CreateUserAsync&quot;)]
        public System.Threading.Tasks.Task&lt;MicroAPI.Sample.Models.User&gt; CreateUserAsync([FromBody] CreateUserAsyncRequest request)
            =&gt; _service.CreateUserAsync(request.name, request.age);

        [HttpDelete(&quot;{id}&quot;)]
        public bool MyDeleteUser([FromRoute] int id)
            =&gt; _service.DeleteUser(id);

    }

}

// UserServiceDtos.g.cs
using System;

namespace MyApp.Api.Models
{
    public record CreateUserAsyncRequest(string name, int age);

}
</code></pre>
<h2 id="é«˜çº§é…ç½®">é«˜çº§é…ç½®</h2>
<h3 id="è‡ªå®šä¹‰æ§åˆ¶å™¨åç§°">è‡ªå®šä¹‰æ§åˆ¶å™¨åç§°</h3>
<pre><code class="lang-csharp">[HttpFacade(&quot;CustomName&quot;)]
public interface IUserService { ... }
</code></pre>
<h3 id="è‡ªå®šä¹‰å‘½åç©ºé—´">è‡ªå®šä¹‰å‘½åç©ºé—´</h3>
<pre><code class="lang-csharp">[HttpFacade(ControllerNamespace = &quot;MyApp.Api.Controllers&quot;, DtoNamespace = &quot;MyApp.Api.Models&quot;)]
public interface IUserService { ... }
</code></pre>
<h3 id="è‡ªå®šä¹‰æ–¹æ³•åç§°">è‡ªå®šä¹‰æ–¹æ³•åç§°</h3>
<pre><code class="lang-csharp">[Get(MethodName = &quot;FindById&quot;)]
Task&lt;User&gt; GetUserAsync(int id);
</code></pre>
<h2 id="èƒŒæ™¯ä¸åŠ¨æœº">èƒŒæ™¯ä¸åŠ¨æœº</h2>
<p>éšç€å¾®æœåŠ¡ã€é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ç­‰æ¶æ„çš„æµè¡Œï¼ŒController å±‚å˜å¾—è¶Šæ¥è¶Šè–„ï¼Œç”šè‡³åœ¨æŸäº›å¾®æœåŠ¡ç¾¤ä¸­è¿˜ä¼šé…ç½®ç»Ÿä¸€ç½‘å…³å’Œä¸­é—´ä»¶å¤„ç†è¿”å›ã€‚åœ¨è¿™äº›ç³»ç»Ÿä¸­ï¼Œå¾€å¾€æ¯ä¸ªç«¯ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ª Service çš„ç®€å•è½¬å‘ï¼Œå®ƒä»¬ä¸å†ä¸¥æ ¼éµå¾ª RESTful çš„çº¦å®šï¼Œæ›´ä¸ä¼šå……åˆ†åˆ©ç”¨ HttpStatusCode çš„è¯­ä¹‰ï¼Œæˆ–è€…è¯´ HttpStatusCode çš„è¯­ä¹‰ä¸è¶³ä»¥è¡¨è¾¾ä¸°å¯Œçš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™äº› API æ›´åƒæ˜¯ WebRPCã€‚</p>
<p>åœ¨è¿™äº›èƒŒæ™¯ä¸‹ï¼ŒMicroAPI.Net åº”è¿è€Œç”Ÿã€‚å®ƒæ—¨åœ¨è§£å†³ä»¥ä¸‹ ASP.NET Core API å¼€å‘ä¸­çš„å¸¸è§æŒ‘æˆ˜ï¼š</p>
<ol>
<li><p><strong>é‡å¤çš„æ§åˆ¶å™¨ä»£ç </strong>ï¼šä¼ ç»Ÿçš„ API æ§åˆ¶å™¨é€šå¸¸åŒ…å«å¤§é‡é‡å¤çš„æ ·æ¿ä»£ç ï¼Œè¿™äº›ä»£ç ä»…ä»…æ˜¯å°†è¯·æ±‚è½¬å‘åˆ°æœåŠ¡å±‚ã€‚</p>
</li>
<li><p><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šä½¿ç”¨æ ‡å‡†æ§åˆ¶å™¨æ¨¡å¼æ—¶ï¼Œç»´æŠ¤ API å¥‘çº¦å’Œä¸šåŠ¡é€»è¾‘å®ç°ä¹‹é—´çš„æ¸…æ™°åˆ†ç¦»æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚</p>
</li>
<li><p><strong>API ä¸€è‡´æ€§</strong>ï¼šåœ¨æ²¡æœ‰æ ‡å‡†åŒ–æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œç¡®ä¿å¤šä¸ªæ§åˆ¶å™¨å’Œç«¯ç‚¹ä¹‹é—´çš„ API è®¾è®¡ä¸€è‡´æ€§å¯èƒ½å¾ˆå›°éš¾ã€‚</p>
</li>
<li><p><strong>ç»´æŠ¤æˆæœ¬</strong>ï¼šæœåŠ¡æ¥å£çš„æ›´æ”¹é€šå¸¸éœ€è¦å¯¹åº”çš„æ§åˆ¶å™¨ä»£ç æ›´æ”¹ï¼Œè¿™å¯èƒ½å¯¼è‡´æ½œåœ¨çš„ä¸ä¸€è‡´æ€§ã€‚</p>
</li>
</ol>
<p>MicroAPI.Net é€šè¿‡ä»æœåŠ¡æ¥å£æˆ–å¤–è§‚ç±»è‡ªåŠ¨ç”Ÿæˆæ§åˆ¶å™¨ä»£ç æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œç¡®ä¿ API å±‚å‡†ç¡®åæ˜ æœåŠ¡å¥‘çº¦ï¼ŒåŒæ—¶æ¶ˆé™¤æ ·æ¿ä»£ç ã€‚</p>
<h2 id="è´¡çŒ®">è´¡çŒ®</h2>
<p>æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ <a href="CONTRIBUTING.html">è´¡çŒ®æŒ‡å—</a> äº†è§£è¯¦æƒ…ã€‚</p>
<h2 id="è®¸å¯è¯">è®¸å¯è¯</h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… <a href="LICENSE">LICENSE</a> æ–‡ä»¶ã€‚</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/XmmShp/MicroApi.Net/blob/main/docs/README-zh-cn.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      MicroAPI.Net Documentation
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
